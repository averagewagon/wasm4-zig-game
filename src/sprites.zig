const w4 = @import("wasm4.zig");

pub const Sprite = struct {
    width: u8, // Width of the sprite
    height: u8, // Height of the sprite
    flags: u8, // Flags (e.g., BLIT_2BPP)
    data: []const u8, // Sprite pixel data
    anchor: [2]i32, // Anchor point offset (x, y) from the top-left corner
};

pub fn drawSpriteAtAnchor(sprite: *const Sprite, x: i32, y: i32) void {
    // Calculate the top-left corner of the sprite
    const topLeftX = x - sprite.anchor[0];
    const topLeftY = y - sprite.anchor[1];

    // Render the sprite using w4.blit
    w4.blit(sprite.data.ptr, // Pointer to sprite data
        topLeftX, // Top-left X position
        topLeftY, // Top-left Y position
        sprite.width, // Width of the sprite
        sprite.height, // Height of the sprite
        sprite.flags // Flags (e.g., BLIT_2BPP)
    );
}

pub const motorcycleSprites = [_]Sprite{
    // Left Lane Sprites
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },

    // Middle Lane Sprites
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },

    // Right Lane Sprites
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
    Sprite{
        .width = 16,
        .height = 16,
        .flags = 1,
        .data = &[_]u8{
            0xaa, 0x9e, 0xac, 0xaa, 0xaa, 0x57, 0xbf, 0x2a,
            0xaa, 0x57, 0xbf, 0x2a, 0xaa, 0x17, 0xbf, 0x2a,
            0xaa, 0x17, 0x03, 0x2a, 0xaa, 0x57, 0x54, 0x2a,
            0xa8, 0x55, 0x55, 0x6a, 0xa9, 0x55, 0x05, 0x0a,
            0xaf, 0xd5, 0x55, 0x4a, 0xa8, 0x75, 0x55, 0x4a,
            0xaa, 0xd5, 0x57, 0x2a, 0xaa, 0x1d, 0x7c, 0xaa,
            0xa8, 0x75, 0x15, 0x2a, 0xa8, 0x45, 0x15, 0x2a,
            0xaa, 0x10, 0x54, 0xaa, 0xaa, 0x85, 0x52, 0xaa,
        },
        .anchor = [2]i32{ 8, 16 },
    },
};
